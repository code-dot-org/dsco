@use '@dsco_/common/mixins';
@use '@dsco_/common/tokens';

a.textlink {
  display: inline-flex;
  align-items: center;

  // Use margin to space children. If supported, use much simpler 'gap' property.
  // https://coryrylan.com/blog/css-gap-space-with-flexbox
  $gap: tokens.$dsco-gutter;

  $margin-ltr: 0 -#{$gap} 0 0;
  $margin-rtl: 0 0 0 -#{$gap};
  @include mixins.rtl(margin, $margin-ltr, $margin-rtl);
  > * {
    $child-margin-ltr: 0 #{$gap} 0 0;
    $child-margin-rtl: 0 0 0 #{$gap};
    @include mixins.rtl(margin, $child-margin-ltr, $child-margin-rtl);
  }

  @supports (gap: $gap) {
    // Undo margin rules above before applying gap.
    margin: 0;
    > * {
      margin: 0;
    }

    gap: $gap;
  }

  // Remove text-decoration from child icon on hover.
  & > i:before {
    display: inline-block;
  }
  &:active,
  &:hover {
    & > i:before {
      text-decoration: none;
    }
  }
}
